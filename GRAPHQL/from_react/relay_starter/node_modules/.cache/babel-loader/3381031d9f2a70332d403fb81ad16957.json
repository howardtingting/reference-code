{"ast":null,"code":"/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @emails oncall+relay\n */\n'use strict';\n\nvar _require = require('./loadQuery'),\n    loadQuery = _require.loadQuery;\n\nfunction loadEntryPoint(environmentProvider, entryPoint, entryPointParams) {\n  // Start loading the code for the entrypoint\n  var loadingPromise = null;\n\n  if (entryPoint.root.getModuleIfRequired() == null) {\n    loadingPromise = entryPoint.root.load();\n  }\n\n  var preloadProps = entryPoint.getPreloadProps(entryPointParams);\n  var queries = preloadProps.queries,\n      entryPoints = preloadProps.entryPoints,\n      extraProps = preloadProps.extraProps;\n  var preloadedQueries = {};\n  var preloadedEntryPoints = {};\n\n  if (queries != null) {\n    var queriesPropNames = Object.keys(queries);\n    queriesPropNames.forEach(function (queryPropName) {\n      var _queries$queryPropNam = queries[queryPropName],\n          environmentProviderOptions = _queries$queryPropNam.environmentProviderOptions,\n          options = _queries$queryPropNam.options,\n          parameters = _queries$queryPropNam.parameters,\n          variables = _queries$queryPropNam.variables;\n      var environment = environmentProvider.getEnvironment(environmentProviderOptions);\n      preloadedQueries[queryPropName] = loadQuery(environment, parameters, variables, {\n        fetchPolicy: options === null || options === void 0 ? void 0 : options.fetchPolicy,\n        networkCacheConfig: options === null || options === void 0 ? void 0 : options.networkCacheConfig,\n        __nameForWarning: 'loadEntryPoint'\n      }, environmentProviderOptions);\n    });\n  }\n\n  if (entryPoints != null) {\n    var entryPointPropNames = Object.keys(entryPoints);\n    entryPointPropNames.forEach(function (entryPointPropName) {\n      var entryPointDescription = entryPoints[entryPointPropName];\n\n      if (entryPointDescription == null) {\n        return;\n      }\n\n      var nestedEntryPoint = entryPointDescription.entryPoint,\n          nestedParams = entryPointDescription.entryPointParams;\n      preloadedEntryPoints[entryPointPropName] = loadEntryPoint(environmentProvider, nestedEntryPoint, nestedParams);\n    });\n  }\n\n  var isDisposed = false;\n  return {\n    dispose: function dispose() {\n      if (isDisposed) {\n        return;\n      }\n\n      if (preloadedQueries != null) {\n        Object.values(preloadedQueries).forEach(function (_ref) {\n          var innerDispose = _ref.dispose;\n          innerDispose();\n        });\n      }\n\n      if (preloadedEntryPoints != null) {\n        Object.values(preloadedEntryPoints).forEach(function (_ref2) {\n          var innerDispose = _ref2.dispose;\n          innerDispose();\n        });\n      }\n\n      isDisposed = true;\n    },\n    entryPoints: preloadedEntryPoints,\n    extraProps: extraProps !== null && extraProps !== void 0 ? extraProps : null,\n    getComponent: function getComponent() {\n      var componentModule = entryPoint.root.getModuleIfRequired();\n\n      if (componentModule == null) {\n        var _loadingPromise;\n\n        loadingPromise = (_loadingPromise = loadingPromise) !== null && _loadingPromise !== void 0 ? _loadingPromise : entryPoint.root.load();\n        throw loadingPromise;\n      } // On certain platforms, getting an es6 module with a default export from a JSResource will return an object like\n      // {default: module}, so let's assume that if the \"component\" has a static property named \"default\"\n      // that it's actually an es6 module wrapper, so unwrap it. This won't work for React classes with a static property named \"default\", but\n      // that's probably a worthwhile trade-off.\n\n\n      var component = // $FlowIgnore[prop-missing]\n      componentModule[\"default\"] != null ? componentModule[\"default\"] : componentModule; // $FlowFixMe[incompatible-cast] - trust me Flow, its entryPoint component\n\n      return component;\n    },\n\n    // $FlowFixMe[unsafe-getters-setters] - this has no side effects\n    get isDisposed() {\n      return isDisposed;\n    },\n\n    queries: preloadedQueries,\n    rootModuleID: entryPoint.root.getModuleId()\n  };\n}\n\nmodule.exports = loadEntryPoint;","map":{"version":3,"sources":["/home/ting/Desktop/Projects/tutorials/GRAPHQL/from_react/relay_starter/node_modules/react-relay/lib/relay-hooks/loadEntryPoint.js"],"names":["_require","require","loadQuery","loadEntryPoint","environmentProvider","entryPoint","entryPointParams","loadingPromise","root","getModuleIfRequired","load","preloadProps","getPreloadProps","queries","entryPoints","extraProps","preloadedQueries","preloadedEntryPoints","queriesPropNames","Object","keys","forEach","queryPropName","_queries$queryPropNam","environmentProviderOptions","options","parameters","variables","environment","getEnvironment","fetchPolicy","networkCacheConfig","__nameForWarning","entryPointPropNames","entryPointPropName","entryPointDescription","nestedEntryPoint","nestedParams","isDisposed","dispose","values","_ref","innerDispose","_ref2","getComponent","componentModule","_loadingPromise","component","rootModuleID","getModuleId","module","exports"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @emails oncall+relay\n */\n'use strict';\n\nvar _require = require('./loadQuery'),\n    loadQuery = _require.loadQuery;\n\nfunction loadEntryPoint(environmentProvider, entryPoint, entryPointParams) {\n  // Start loading the code for the entrypoint\n  var loadingPromise = null;\n\n  if (entryPoint.root.getModuleIfRequired() == null) {\n    loadingPromise = entryPoint.root.load();\n  }\n\n  var preloadProps = entryPoint.getPreloadProps(entryPointParams);\n  var queries = preloadProps.queries,\n      entryPoints = preloadProps.entryPoints,\n      extraProps = preloadProps.extraProps;\n  var preloadedQueries = {};\n  var preloadedEntryPoints = {};\n\n  if (queries != null) {\n    var queriesPropNames = Object.keys(queries);\n    queriesPropNames.forEach(function (queryPropName) {\n      var _queries$queryPropNam = queries[queryPropName],\n          environmentProviderOptions = _queries$queryPropNam.environmentProviderOptions,\n          options = _queries$queryPropNam.options,\n          parameters = _queries$queryPropNam.parameters,\n          variables = _queries$queryPropNam.variables;\n      var environment = environmentProvider.getEnvironment(environmentProviderOptions);\n      preloadedQueries[queryPropName] = loadQuery(environment, parameters, variables, {\n        fetchPolicy: options === null || options === void 0 ? void 0 : options.fetchPolicy,\n        networkCacheConfig: options === null || options === void 0 ? void 0 : options.networkCacheConfig,\n        __nameForWarning: 'loadEntryPoint'\n      }, environmentProviderOptions);\n    });\n  }\n\n  if (entryPoints != null) {\n    var entryPointPropNames = Object.keys(entryPoints);\n    entryPointPropNames.forEach(function (entryPointPropName) {\n      var entryPointDescription = entryPoints[entryPointPropName];\n\n      if (entryPointDescription == null) {\n        return;\n      }\n\n      var nestedEntryPoint = entryPointDescription.entryPoint,\n          nestedParams = entryPointDescription.entryPointParams;\n      preloadedEntryPoints[entryPointPropName] = loadEntryPoint(environmentProvider, nestedEntryPoint, nestedParams);\n    });\n  }\n\n  var isDisposed = false;\n  return {\n    dispose: function dispose() {\n      if (isDisposed) {\n        return;\n      }\n\n      if (preloadedQueries != null) {\n        Object.values(preloadedQueries).forEach(function (_ref) {\n          var innerDispose = _ref.dispose;\n          innerDispose();\n        });\n      }\n\n      if (preloadedEntryPoints != null) {\n        Object.values(preloadedEntryPoints).forEach(function (_ref2) {\n          var innerDispose = _ref2.dispose;\n          innerDispose();\n        });\n      }\n\n      isDisposed = true;\n    },\n    entryPoints: preloadedEntryPoints,\n    extraProps: extraProps !== null && extraProps !== void 0 ? extraProps : null,\n    getComponent: function getComponent() {\n      var componentModule = entryPoint.root.getModuleIfRequired();\n\n      if (componentModule == null) {\n        var _loadingPromise;\n\n        loadingPromise = (_loadingPromise = loadingPromise) !== null && _loadingPromise !== void 0 ? _loadingPromise : entryPoint.root.load();\n        throw loadingPromise;\n      } // On certain platforms, getting an es6 module with a default export from a JSResource will return an object like\n      // {default: module}, so let's assume that if the \"component\" has a static property named \"default\"\n      // that it's actually an es6 module wrapper, so unwrap it. This won't work for React classes with a static property named \"default\", but\n      // that's probably a worthwhile trade-off.\n\n\n      var component = // $FlowIgnore[prop-missing]\n      componentModule[\"default\"] != null ? componentModule[\"default\"] : componentModule; // $FlowFixMe[incompatible-cast] - trust me Flow, its entryPoint component\n\n      return component;\n    },\n\n    // $FlowFixMe[unsafe-getters-setters] - this has no side effects\n    get isDisposed() {\n      return isDisposed;\n    },\n\n    queries: preloadedQueries,\n    rootModuleID: entryPoint.root.getModuleId()\n  };\n}\n\nmodule.exports = loadEntryPoint;"]},"metadata":{},"sourceType":"script"}