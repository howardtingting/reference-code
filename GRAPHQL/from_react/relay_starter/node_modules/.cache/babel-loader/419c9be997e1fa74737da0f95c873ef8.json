{"ast":null,"code":"/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar _require = require('./RelayConcreteVariables'),\n    getFragmentVariables = _require.getFragmentVariables;\n\nvar _require2 = require('./RelayStoreUtils'),\n    CLIENT_EDGE_TRAVERSAL_PATH = _require2.CLIENT_EDGE_TRAVERSAL_PATH,\n    FRAGMENT_OWNER_KEY = _require2.FRAGMENT_OWNER_KEY,\n    FRAGMENTS_KEY = _require2.FRAGMENTS_KEY,\n    ID_KEY = _require2.ID_KEY,\n    IS_WITHIN_UNMATCHED_TYPE_REFINEMENT = _require2.IS_WITHIN_UNMATCHED_TYPE_REFINEMENT;\n\nvar areEqual = require(\"fbjs/lib/areEqual\");\n\nvar invariant = require('invariant');\n\nvar warning = require(\"fbjs/lib/warning\");\n/**\n * @public\n *\n * Given the result `item` from a parent that fetched `fragment`, creates a\n * selector that can be used to read the results of that fragment for that item.\n *\n * Example:\n *\n * Given two fragments as follows:\n *\n * ```\n * fragment Parent on User {\n *   id\n *   ...Child\n * }\n * fragment Child on User {\n *   name\n * }\n * ```\n *\n * And given some object `parent` that is the results of `Parent` for id \"4\",\n * the results of `Child` can be accessed by first getting a selector and then\n * using that selector to `lookup()` the results against the environment:\n *\n * ```\n * const childSelector = getSingularSelector(queryVariables, Child, parent);\n * const childData = environment.lookup(childSelector).data;\n * ```\n */\n\n\nfunction getSingularSelector(fragment, item) {\n  !(typeof item === 'object' && item !== null && !Array.isArray(item)) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernSelector: Expected value for fragment `%s` to be an object, got ' + '`%s`.', fragment.name, JSON.stringify(item)) : invariant(false) : void 0;\n  var dataID = item[ID_KEY];\n  var fragments = item[FRAGMENTS_KEY];\n  var mixedOwner = item[FRAGMENT_OWNER_KEY];\n  var isWithinUnmatchedTypeRefinement = item[IS_WITHIN_UNMATCHED_TYPE_REFINEMENT] === true;\n  var mixedClientEdgeTraversalPath = item[CLIENT_EDGE_TRAVERSAL_PATH];\n\n  if (typeof dataID === 'string' && typeof fragments === 'object' && fragments !== null && typeof fragments[fragment.name] === 'object' && fragments[fragment.name] !== null && typeof mixedOwner === 'object' && mixedOwner !== null && (mixedClientEdgeTraversalPath == null || Array.isArray(mixedClientEdgeTraversalPath))) {\n    var owner = mixedOwner;\n    var clientEdgeTraversalPath = mixedClientEdgeTraversalPath;\n    var argumentVariables = fragments[fragment.name];\n    var fragmentVariables = getFragmentVariables(fragment, owner.variables, argumentVariables);\n    return createReaderSelector(fragment, dataID, fragmentVariables, owner, isWithinUnmatchedTypeRefinement, clientEdgeTraversalPath);\n  }\n\n  if (process.env.NODE_ENV !== \"production\") {\n    var stringifiedItem = JSON.stringify(item);\n\n    if (stringifiedItem.length > 499) {\n      stringifiedItem = stringifiedItem.substr(0, 498) + \"\\u2026\";\n    }\n\n    process.env.NODE_ENV !== \"production\" ? warning(false, 'RelayModernSelector: Expected object to contain data for fragment `%s`, got ' + '`%s`. Make sure that the parent operation/fragment included fragment ' + '`...%s` without `@relay(mask: false)`.', fragment.name, stringifiedItem, fragment.name) : void 0;\n  }\n\n  return null;\n}\n/**\n * @public\n *\n * Given the result `items` from a parent that fetched `fragment`, creates a\n * selector that can be used to read the results of that fragment on those\n * items. This is similar to `getSingularSelector` but for \"plural\" fragments that\n * expect an array of results and therefore return an array of selectors.\n */\n\n\nfunction getPluralSelector(fragment, items) {\n  var selectors = null;\n  items.forEach(function (item, ii) {\n    var selector = item != null ? getSingularSelector(fragment, item) : null;\n\n    if (selector != null) {\n      selectors = selectors || [];\n      selectors.push(selector);\n    }\n  });\n\n  if (selectors == null) {\n    return null;\n  } else {\n    return {\n      kind: 'PluralReaderSelector',\n      selectors: selectors\n    };\n  }\n}\n\nfunction getSelector(fragment, item) {\n  if (item == null) {\n    return item;\n  } else if (fragment.metadata && fragment.metadata.plural === true) {\n    !Array.isArray(item) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernSelector: Expected value for fragment `%s` to be an array, got `%s`. ' + 'Remove `@relay(plural: true)` from fragment `%s` to allow the prop to be an object.', fragment.name, JSON.stringify(item), fragment.name) : invariant(false) : void 0;\n    return getPluralSelector(fragment, item);\n  } else {\n    !!Array.isArray(item) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernSelector: Expected value for fragment `%s` to be an object, got `%s`. ' + 'Add `@relay(plural: true)` to fragment `%s` to allow the prop to be an array of items.', fragment.name, JSON.stringify(item), fragment.name) : invariant(false) : void 0;\n    return getSingularSelector(fragment, item);\n  }\n}\n/**\n * @public\n *\n * Given a mapping of keys -> results and a mapping of keys -> fragments,\n * extracts the selectors for those fragments from the results.\n *\n * The canonical use-case for this function is ReactRelayFragmentContainer, which\n * uses this function to convert (props, fragments) into selectors so that it\n * can read the results to pass to the inner component.\n */\n\n\nfunction getSelectorsFromObject(fragments, object) {\n  var selectors = {};\n\n  for (var _key in fragments) {\n    if (fragments.hasOwnProperty(_key)) {\n      var fragment = fragments[_key];\n      var item = object[_key];\n      selectors[_key] = getSelector(fragment, item);\n    }\n  }\n\n  return selectors;\n}\n/**\n * @public\n *\n * Given a mapping of keys -> results and a mapping of keys -> fragments,\n * extracts a mapping of keys -> id(s) of the results.\n *\n * Similar to `getSelectorsFromObject()`, this function can be useful in\n * determining the \"identity\" of the props passed to a component.\n */\n\n\nfunction getDataIDsFromObject(fragments, object) {\n  var ids = {};\n\n  for (var _key2 in fragments) {\n    if (fragments.hasOwnProperty(_key2)) {\n      var fragment = fragments[_key2];\n      var item = object[_key2];\n      ids[_key2] = getDataIDsFromFragment(fragment, item);\n    }\n  }\n\n  return ids;\n}\n\nfunction getDataIDsFromFragment(fragment, item) {\n  if (item == null) {\n    return item;\n  } else if (fragment.metadata && fragment.metadata.plural === true) {\n    !Array.isArray(item) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernSelector: Expected value for fragment `%s` to be an array, got `%s`. ' + 'Remove `@relay(plural: true)` from fragment `%s` to allow the prop to be an object.', fragment.name, JSON.stringify(item), fragment.name) : invariant(false) : void 0;\n    return getDataIDs(fragment, item);\n  } else {\n    !!Array.isArray(item) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernFragmentSpecResolver: Expected value for fragment `%s` to be an object, got `%s`. ' + 'Add `@relay(plural: true)` to fragment `%s` to allow the prop to be an array of items.', fragment.name, JSON.stringify(item), fragment.name) : invariant(false) : void 0;\n    return getDataID(fragment, item);\n  }\n}\n/**\n * @internal\n */\n\n\nfunction getDataIDs(fragment, items) {\n  var ids = null;\n  items.forEach(function (item) {\n    var id = item != null ? getDataID(fragment, item) : null;\n\n    if (id != null) {\n      ids = ids || [];\n      ids.push(id);\n    }\n  });\n  return ids;\n}\n/**\n * @internal\n */\n\n\nfunction getDataID(fragment, item) {\n  !(typeof item === 'object' && item !== null && !Array.isArray(item)) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernSelector: Expected value for fragment `%s` to be an object, got ' + '`%s`.', fragment.name, JSON.stringify(item)) : invariant(false) : void 0;\n  var dataID = item[ID_KEY];\n\n  if (typeof dataID === 'string') {\n    return dataID;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(false, 'RelayModernSelector: Expected object to contain data for fragment `%s`, got ' + '`%s`. Make sure that the parent operation/fragment included fragment ' + '`...%s` without `@relay(mask: false)`, or `null` is passed as the fragment ' + \"reference for `%s` if it's conditonally included and the condition isn't met.\", fragment.name, JSON.stringify(item), fragment.name, fragment.name) : void 0;\n  return null;\n}\n/**\n * @public\n *\n * Given a mapping of keys -> results and a mapping of keys -> fragments,\n * extracts the merged variables that would be in scope for those\n * fragments/results.\n *\n * This can be useful in determing what varaibles were used to fetch the data\n * for a Relay container, for example.\n */\n\n\nfunction getVariablesFromObject(fragments, object) {\n  var variables = {};\n\n  for (var _key3 in fragments) {\n    if (fragments.hasOwnProperty(_key3)) {\n      var fragment = fragments[_key3];\n      var item = object[_key3];\n      var itemVariables = getVariablesFromFragment(fragment, item);\n      Object.assign(variables, itemVariables);\n    }\n  }\n\n  return variables;\n}\n\nfunction getVariablesFromFragment(fragment, item) {\n  var _fragment$metadata;\n\n  if (item == null) {\n    return {};\n  } else if (((_fragment$metadata = fragment.metadata) === null || _fragment$metadata === void 0 ? void 0 : _fragment$metadata.plural) === true) {\n    !Array.isArray(item) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernSelector: Expected value for fragment `%s` to be an array, got `%s`. ' + 'Remove `@relay(plural: true)` from fragment `%s` to allow the prop to be an object.', fragment.name, JSON.stringify(item), fragment.name) : invariant(false) : void 0;\n    return getVariablesFromPluralFragment(fragment, item);\n  } else {\n    !!Array.isArray(item) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernFragmentSpecResolver: Expected value for fragment `%s` to be an object, got `%s`. ' + 'Add `@relay(plural: true)` to fragment `%s` to allow the prop to be an array of items.', fragment.name, JSON.stringify(item), fragment.name) : invariant(false) : void 0;\n    return getVariablesFromSingularFragment(fragment, item) || {};\n  }\n}\n\nfunction getVariablesFromSingularFragment(fragment, item) {\n  var selector = getSingularSelector(fragment, item);\n\n  if (!selector) {\n    return null;\n  }\n\n  return selector.variables;\n}\n\nfunction getVariablesFromPluralFragment(fragment, items) {\n  var variables = {};\n  items.forEach(function (value, ii) {\n    if (value != null) {\n      var itemVariables = getVariablesFromSingularFragment(fragment, value);\n\n      if (itemVariables != null) {\n        Object.assign(variables, itemVariables);\n      }\n    }\n  });\n  return variables;\n}\n/**\n * @public\n *\n * Determine if two selectors are equal (represent the same selection). Note\n * that this function returns `false` when the two queries/fragments are\n * different objects, even if they select the same fields.\n */\n\n\nfunction areEqualSelectors(thisSelector, thatSelector) {\n  return thisSelector.owner === thatSelector.owner && thisSelector.dataID === thatSelector.dataID && thisSelector.node === thatSelector.node && areEqual(thisSelector.variables, thatSelector.variables);\n}\n\nfunction createReaderSelector(fragment, dataID, variables, request) {\n  var isWithinUnmatchedTypeRefinement = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n  var clientEdgeTraversalPath = arguments.length > 5 ? arguments[5] : undefined;\n  return {\n    kind: 'SingularReaderSelector',\n    dataID: dataID,\n    isWithinUnmatchedTypeRefinement: isWithinUnmatchedTypeRefinement,\n    clientEdgeTraversalPath: clientEdgeTraversalPath !== null && clientEdgeTraversalPath !== void 0 ? clientEdgeTraversalPath : null,\n    node: fragment,\n    variables: variables,\n    owner: request\n  };\n}\n\nfunction createNormalizationSelector(node, dataID, variables) {\n  return {\n    dataID: dataID,\n    node: node,\n    variables: variables\n  };\n}\n\nmodule.exports = {\n  areEqualSelectors: areEqualSelectors,\n  createReaderSelector: createReaderSelector,\n  createNormalizationSelector: createNormalizationSelector,\n  getDataIDsFromFragment: getDataIDsFromFragment,\n  getDataIDsFromObject: getDataIDsFromObject,\n  getSingularSelector: getSingularSelector,\n  getPluralSelector: getPluralSelector,\n  getSelector: getSelector,\n  getSelectorsFromObject: getSelectorsFromObject,\n  getVariablesFromSingularFragment: getVariablesFromSingularFragment,\n  getVariablesFromPluralFragment: getVariablesFromPluralFragment,\n  getVariablesFromFragment: getVariablesFromFragment,\n  getVariablesFromObject: getVariablesFromObject\n};","map":{"version":3,"sources":["/home/ting/Desktop/Projects/tutorials/GRAPHQL/from_react/relay_starter/node_modules/relay-runtime/lib/store/RelayModernSelector.js"],"names":["_require","require","getFragmentVariables","_require2","CLIENT_EDGE_TRAVERSAL_PATH","FRAGMENT_OWNER_KEY","FRAGMENTS_KEY","ID_KEY","IS_WITHIN_UNMATCHED_TYPE_REFINEMENT","areEqual","invariant","warning","getSingularSelector","fragment","item","Array","isArray","process","env","NODE_ENV","name","JSON","stringify","dataID","fragments","mixedOwner","isWithinUnmatchedTypeRefinement","mixedClientEdgeTraversalPath","owner","clientEdgeTraversalPath","argumentVariables","fragmentVariables","variables","createReaderSelector","stringifiedItem","length","substr","getPluralSelector","items","selectors","forEach","ii","selector","push","kind","getSelector","metadata","plural","getSelectorsFromObject","object","_key","hasOwnProperty","getDataIDsFromObject","ids","_key2","getDataIDsFromFragment","getDataIDs","getDataID","id","getVariablesFromObject","_key3","itemVariables","getVariablesFromFragment","Object","assign","_fragment$metadata","getVariablesFromPluralFragment","getVariablesFromSingularFragment","value","areEqualSelectors","thisSelector","thatSelector","node","request","arguments","undefined","createNormalizationSelector","module","exports"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar _require = require('./RelayConcreteVariables'),\n    getFragmentVariables = _require.getFragmentVariables;\n\nvar _require2 = require('./RelayStoreUtils'),\n    CLIENT_EDGE_TRAVERSAL_PATH = _require2.CLIENT_EDGE_TRAVERSAL_PATH,\n    FRAGMENT_OWNER_KEY = _require2.FRAGMENT_OWNER_KEY,\n    FRAGMENTS_KEY = _require2.FRAGMENTS_KEY,\n    ID_KEY = _require2.ID_KEY,\n    IS_WITHIN_UNMATCHED_TYPE_REFINEMENT = _require2.IS_WITHIN_UNMATCHED_TYPE_REFINEMENT;\n\nvar areEqual = require(\"fbjs/lib/areEqual\");\n\nvar invariant = require('invariant');\n\nvar warning = require(\"fbjs/lib/warning\");\n/**\n * @public\n *\n * Given the result `item` from a parent that fetched `fragment`, creates a\n * selector that can be used to read the results of that fragment for that item.\n *\n * Example:\n *\n * Given two fragments as follows:\n *\n * ```\n * fragment Parent on User {\n *   id\n *   ...Child\n * }\n * fragment Child on User {\n *   name\n * }\n * ```\n *\n * And given some object `parent` that is the results of `Parent` for id \"4\",\n * the results of `Child` can be accessed by first getting a selector and then\n * using that selector to `lookup()` the results against the environment:\n *\n * ```\n * const childSelector = getSingularSelector(queryVariables, Child, parent);\n * const childData = environment.lookup(childSelector).data;\n * ```\n */\n\n\nfunction getSingularSelector(fragment, item) {\n  !(typeof item === 'object' && item !== null && !Array.isArray(item)) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernSelector: Expected value for fragment `%s` to be an object, got ' + '`%s`.', fragment.name, JSON.stringify(item)) : invariant(false) : void 0;\n  var dataID = item[ID_KEY];\n  var fragments = item[FRAGMENTS_KEY];\n  var mixedOwner = item[FRAGMENT_OWNER_KEY];\n  var isWithinUnmatchedTypeRefinement = item[IS_WITHIN_UNMATCHED_TYPE_REFINEMENT] === true;\n  var mixedClientEdgeTraversalPath = item[CLIENT_EDGE_TRAVERSAL_PATH];\n\n  if (typeof dataID === 'string' && typeof fragments === 'object' && fragments !== null && typeof fragments[fragment.name] === 'object' && fragments[fragment.name] !== null && typeof mixedOwner === 'object' && mixedOwner !== null && (mixedClientEdgeTraversalPath == null || Array.isArray(mixedClientEdgeTraversalPath))) {\n    var owner = mixedOwner;\n    var clientEdgeTraversalPath = mixedClientEdgeTraversalPath;\n    var argumentVariables = fragments[fragment.name];\n    var fragmentVariables = getFragmentVariables(fragment, owner.variables, argumentVariables);\n    return createReaderSelector(fragment, dataID, fragmentVariables, owner, isWithinUnmatchedTypeRefinement, clientEdgeTraversalPath);\n  }\n\n  if (process.env.NODE_ENV !== \"production\") {\n    var stringifiedItem = JSON.stringify(item);\n\n    if (stringifiedItem.length > 499) {\n      stringifiedItem = stringifiedItem.substr(0, 498) + \"\\u2026\";\n    }\n\n    process.env.NODE_ENV !== \"production\" ? warning(false, 'RelayModernSelector: Expected object to contain data for fragment `%s`, got ' + '`%s`. Make sure that the parent operation/fragment included fragment ' + '`...%s` without `@relay(mask: false)`.', fragment.name, stringifiedItem, fragment.name) : void 0;\n  }\n\n  return null;\n}\n/**\n * @public\n *\n * Given the result `items` from a parent that fetched `fragment`, creates a\n * selector that can be used to read the results of that fragment on those\n * items. This is similar to `getSingularSelector` but for \"plural\" fragments that\n * expect an array of results and therefore return an array of selectors.\n */\n\n\nfunction getPluralSelector(fragment, items) {\n  var selectors = null;\n  items.forEach(function (item, ii) {\n    var selector = item != null ? getSingularSelector(fragment, item) : null;\n\n    if (selector != null) {\n      selectors = selectors || [];\n      selectors.push(selector);\n    }\n  });\n\n  if (selectors == null) {\n    return null;\n  } else {\n    return {\n      kind: 'PluralReaderSelector',\n      selectors: selectors\n    };\n  }\n}\n\nfunction getSelector(fragment, item) {\n  if (item == null) {\n    return item;\n  } else if (fragment.metadata && fragment.metadata.plural === true) {\n    !Array.isArray(item) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernSelector: Expected value for fragment `%s` to be an array, got `%s`. ' + 'Remove `@relay(plural: true)` from fragment `%s` to allow the prop to be an object.', fragment.name, JSON.stringify(item), fragment.name) : invariant(false) : void 0;\n    return getPluralSelector(fragment, item);\n  } else {\n    !!Array.isArray(item) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernSelector: Expected value for fragment `%s` to be an object, got `%s`. ' + 'Add `@relay(plural: true)` to fragment `%s` to allow the prop to be an array of items.', fragment.name, JSON.stringify(item), fragment.name) : invariant(false) : void 0;\n    return getSingularSelector(fragment, item);\n  }\n}\n/**\n * @public\n *\n * Given a mapping of keys -> results and a mapping of keys -> fragments,\n * extracts the selectors for those fragments from the results.\n *\n * The canonical use-case for this function is ReactRelayFragmentContainer, which\n * uses this function to convert (props, fragments) into selectors so that it\n * can read the results to pass to the inner component.\n */\n\n\nfunction getSelectorsFromObject(fragments, object) {\n  var selectors = {};\n\n  for (var _key in fragments) {\n    if (fragments.hasOwnProperty(_key)) {\n      var fragment = fragments[_key];\n      var item = object[_key];\n      selectors[_key] = getSelector(fragment, item);\n    }\n  }\n\n  return selectors;\n}\n/**\n * @public\n *\n * Given a mapping of keys -> results and a mapping of keys -> fragments,\n * extracts a mapping of keys -> id(s) of the results.\n *\n * Similar to `getSelectorsFromObject()`, this function can be useful in\n * determining the \"identity\" of the props passed to a component.\n */\n\n\nfunction getDataIDsFromObject(fragments, object) {\n  var ids = {};\n\n  for (var _key2 in fragments) {\n    if (fragments.hasOwnProperty(_key2)) {\n      var fragment = fragments[_key2];\n      var item = object[_key2];\n      ids[_key2] = getDataIDsFromFragment(fragment, item);\n    }\n  }\n\n  return ids;\n}\n\nfunction getDataIDsFromFragment(fragment, item) {\n  if (item == null) {\n    return item;\n  } else if (fragment.metadata && fragment.metadata.plural === true) {\n    !Array.isArray(item) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernSelector: Expected value for fragment `%s` to be an array, got `%s`. ' + 'Remove `@relay(plural: true)` from fragment `%s` to allow the prop to be an object.', fragment.name, JSON.stringify(item), fragment.name) : invariant(false) : void 0;\n    return getDataIDs(fragment, item);\n  } else {\n    !!Array.isArray(item) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernFragmentSpecResolver: Expected value for fragment `%s` to be an object, got `%s`. ' + 'Add `@relay(plural: true)` to fragment `%s` to allow the prop to be an array of items.', fragment.name, JSON.stringify(item), fragment.name) : invariant(false) : void 0;\n    return getDataID(fragment, item);\n  }\n}\n/**\n * @internal\n */\n\n\nfunction getDataIDs(fragment, items) {\n  var ids = null;\n  items.forEach(function (item) {\n    var id = item != null ? getDataID(fragment, item) : null;\n\n    if (id != null) {\n      ids = ids || [];\n      ids.push(id);\n    }\n  });\n  return ids;\n}\n/**\n * @internal\n */\n\n\nfunction getDataID(fragment, item) {\n  !(typeof item === 'object' && item !== null && !Array.isArray(item)) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernSelector: Expected value for fragment `%s` to be an object, got ' + '`%s`.', fragment.name, JSON.stringify(item)) : invariant(false) : void 0;\n  var dataID = item[ID_KEY];\n\n  if (typeof dataID === 'string') {\n    return dataID;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(false, 'RelayModernSelector: Expected object to contain data for fragment `%s`, got ' + '`%s`. Make sure that the parent operation/fragment included fragment ' + '`...%s` without `@relay(mask: false)`, or `null` is passed as the fragment ' + \"reference for `%s` if it's conditonally included and the condition isn't met.\", fragment.name, JSON.stringify(item), fragment.name, fragment.name) : void 0;\n  return null;\n}\n/**\n * @public\n *\n * Given a mapping of keys -> results and a mapping of keys -> fragments,\n * extracts the merged variables that would be in scope for those\n * fragments/results.\n *\n * This can be useful in determing what varaibles were used to fetch the data\n * for a Relay container, for example.\n */\n\n\nfunction getVariablesFromObject(fragments, object) {\n  var variables = {};\n\n  for (var _key3 in fragments) {\n    if (fragments.hasOwnProperty(_key3)) {\n      var fragment = fragments[_key3];\n      var item = object[_key3];\n      var itemVariables = getVariablesFromFragment(fragment, item);\n      Object.assign(variables, itemVariables);\n    }\n  }\n\n  return variables;\n}\n\nfunction getVariablesFromFragment(fragment, item) {\n  var _fragment$metadata;\n\n  if (item == null) {\n    return {};\n  } else if (((_fragment$metadata = fragment.metadata) === null || _fragment$metadata === void 0 ? void 0 : _fragment$metadata.plural) === true) {\n    !Array.isArray(item) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernSelector: Expected value for fragment `%s` to be an array, got `%s`. ' + 'Remove `@relay(plural: true)` from fragment `%s` to allow the prop to be an object.', fragment.name, JSON.stringify(item), fragment.name) : invariant(false) : void 0;\n    return getVariablesFromPluralFragment(fragment, item);\n  } else {\n    !!Array.isArray(item) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'RelayModernFragmentSpecResolver: Expected value for fragment `%s` to be an object, got `%s`. ' + 'Add `@relay(plural: true)` to fragment `%s` to allow the prop to be an array of items.', fragment.name, JSON.stringify(item), fragment.name) : invariant(false) : void 0;\n    return getVariablesFromSingularFragment(fragment, item) || {};\n  }\n}\n\nfunction getVariablesFromSingularFragment(fragment, item) {\n  var selector = getSingularSelector(fragment, item);\n\n  if (!selector) {\n    return null;\n  }\n\n  return selector.variables;\n}\n\nfunction getVariablesFromPluralFragment(fragment, items) {\n  var variables = {};\n  items.forEach(function (value, ii) {\n    if (value != null) {\n      var itemVariables = getVariablesFromSingularFragment(fragment, value);\n\n      if (itemVariables != null) {\n        Object.assign(variables, itemVariables);\n      }\n    }\n  });\n  return variables;\n}\n/**\n * @public\n *\n * Determine if two selectors are equal (represent the same selection). Note\n * that this function returns `false` when the two queries/fragments are\n * different objects, even if they select the same fields.\n */\n\n\nfunction areEqualSelectors(thisSelector, thatSelector) {\n  return thisSelector.owner === thatSelector.owner && thisSelector.dataID === thatSelector.dataID && thisSelector.node === thatSelector.node && areEqual(thisSelector.variables, thatSelector.variables);\n}\n\nfunction createReaderSelector(fragment, dataID, variables, request) {\n  var isWithinUnmatchedTypeRefinement = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n  var clientEdgeTraversalPath = arguments.length > 5 ? arguments[5] : undefined;\n  return {\n    kind: 'SingularReaderSelector',\n    dataID: dataID,\n    isWithinUnmatchedTypeRefinement: isWithinUnmatchedTypeRefinement,\n    clientEdgeTraversalPath: clientEdgeTraversalPath !== null && clientEdgeTraversalPath !== void 0 ? clientEdgeTraversalPath : null,\n    node: fragment,\n    variables: variables,\n    owner: request\n  };\n}\n\nfunction createNormalizationSelector(node, dataID, variables) {\n  return {\n    dataID: dataID,\n    node: node,\n    variables: variables\n  };\n}\n\nmodule.exports = {\n  areEqualSelectors: areEqualSelectors,\n  createReaderSelector: createReaderSelector,\n  createNormalizationSelector: createNormalizationSelector,\n  getDataIDsFromFragment: getDataIDsFromFragment,\n  getDataIDsFromObject: getDataIDsFromObject,\n  getSingularSelector: getSingularSelector,\n  getPluralSelector: getPluralSelector,\n  getSelector: getSelector,\n  getSelectorsFromObject: getSelectorsFromObject,\n  getVariablesFromSingularFragment: getVariablesFromSingularFragment,\n  getVariablesFromPluralFragment: getVariablesFromPluralFragment,\n  getVariablesFromFragment: getVariablesFromFragment,\n  getVariablesFromObject: getVariablesFromObject\n};"]},"metadata":{},"sourceType":"script"}